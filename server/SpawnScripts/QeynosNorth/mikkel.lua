--[[
	Script Name		:	nightstalker.lua
	Script Purpose	:	Waypoint Path for nightstalker.lua
	Script Author	:	Devn00b
	Script Date		:	04/12/2020 11:16:46 AM
	Script Notes	:	Locations collected from Live
--]]
dofile("SpawnScripts/Generic/GenericEcologyVoiceOvers.lua")

function spawn(NPC)
	AddTimer(NPC, 1900, "follow_Enursin")
SetPlayerProximityFunction(NPC, 7, "InRange", "LeaveRange")		
end

function hailed(NPC, Spawn)
local Enursin = GetSpawn(NPC,2220118)    
	FaceTarget(NPC, Spawn)
	if Enursin ~=nil then
    FaceTarget(Enursin,Spawn)
    end	
    GenericEcologyHail(NPC, Spawn, faction)
end

function follow_Enursin(NPC)
	local zone = GetZone(NPC)
	local Enursin_location = GetSpawnByLocationID(zone, 379944)
	local sli = GetSpawnLocationID(NPC)
    local leaderX = GetX(Enursin_location)
    local leaderY = GetY(Enursin_location)
    local leaderZ = GetZ(Enursin_location)
    local speed = 2
       -- Say(NPC, "Leader location is: " .. GetX(guard_A_placement) .. ", " .. GetY(guard_A_placement) .. ", " .. GetZ(guard_A_placement))
    if  Enursin_location ~=nil and not IsInCombat(NPC) then   
    if sli == 379936 then
		if GetDistance(NPC, Enursin_location) >= 8 then
			speed = 5
			MoveToLocation(NPC, leaderX - 1, leaderY, leaderZ, speed)
		else
			speed = 2
			MoveToLocation(NPC, leaderX - 1, leaderY, leaderZ, speed)
		end 
    end
    end
        speed = 2
	AddTimer(NPC, 3000, "follow_Enursin")	
end

--[[Enursin's Patrol
function waypoints(NPC) --(following  Enursin Nightstalker)
 	MovementLoopAddLocation(NPC, 441.68, -20.33, -318.13, 2, 0)
	MovementLoopAddLocation(NPC, 447.68, -20.33, -324.06, 2, 0)
	MovementLoopAddLocation(NPC, 451.08, -20.35, -326.46, 2, 0)
	MovementLoopAddLocation(NPC, 455.34, -20.41, -326.81, 2, 0)
	MovementLoopAddLocation(NPC, 460.61, -20.5, -325.99, 2, 0)
	MovementLoopAddLocation(NPC, 464.6, -20.47, -323.73, 2, 0)
	MovementLoopAddLocation(NPC, 467.31, -20.42, -320.02, 2, 0)
	MovementLoopAddLocation(NPC, 467.77, -20.35, -315.62, 2, 0)
	MovementLoopAddLocation(NPC, 466.03, -20.23, -311.41, 2, 0)
	MovementLoopAddLocation(NPC, 461.14, -20.18, -307.03, 2, 0)
	MovementLoopAddLocation(NPC, 455.07, -20.2, -304.7, 2, 0)
	MovementLoopAddLocation(NPC, 449.84, -20.26, -304.03, 2, 0)
	MovementLoopAddLocation(NPC, 437.04, -20.75, -281.16, 2, 0)
	MovementLoopAddLocation(NPC, 437.55, -20.92, -254.01, 2, 0)
	MovementLoopAddLocation(NPC, 434.83, -21.31, -248.24, 2, 0)
	MovementLoopAddLocation(NPC, 405.9, -23.02, -216.31, 2, 0)
	MovementLoopAddLocation(NPC, 388.39, -18.86, -235.08, 2, 0)
	MovementLoopAddLocation(NPC, 405.93, -23, -217.04, 2, 0)
	MovementLoopAddLocation(NPC, 386.32, -24.34, -194.34, 2, 0)
	MovementLoopAddLocation(NPC, 359.28, -25.34, -174.69, 2, 0)
	MovementLoopAddLocation(NPC, 341.23, -23.91, -145.54, 2, 0)
	MovementLoopAddLocation(NPC, 319.08, -23.15, -103.21, 2, 0)
	MovementLoopAddLocation(NPC, 314.18, -22.67, -91.88, 2, 0)
	MovementLoopAddLocation(NPC, 306.92, -21.35, -54.89, 2, 0)
	MovementLoopAddLocation(NPC, 294.23, -21.05, -45.16, 2, 0)
	MovementLoopAddLocation(NPC, 279.54, -21.18, -32.57, 2, 0)
	MovementLoopAddLocation(NPC, 257.93, -21.1, -11.88, 2, 0)
	MovementLoopAddLocation(NPC, 254.82, -19.97, 35.53, 2, 0)
	MovementLoopAddLocation(NPC, 286.47, -12.82, 76.85, 2, 0)
	MovementLoopAddLocation(NPC, 291.57, -13.42, 109.62, 2, 0)
	MovementLoopAddLocation(NPC, 301.61, -15.94, 140.57, 2, 0)
	MovementLoopAddLocation(NPC, 311.09, -17.91, 158.73, 2, 0)
	MovementLoopAddLocation(NPC, 315.55, -17.98, 164.22, 2, 0)
	MovementLoopAddLocation(NPC, 321.17, -18.12, 167.53, 2, 0)
	MovementLoopAddLocation(NPC, 327.38, -18.49, 168.63, 2, 0)
	MovementLoopAddLocation(NPC, 335.41, -19.11, 168.24, 2, 0)
	MovementLoopAddLocation(NPC, 343.39, -19.81, 165.99, 2, 0)
	MovementLoopAddLocation(NPC, 353.19, -20.11, 161.76, 2, 0)
	MovementLoopAddLocation(NPC, 362.33, -20.07, 156.28, 2, 0)
	MovementLoopAddLocation(NPC, 371, -20.4, 150.07, 2, 0)
	MovementLoopAddLocation(NPC, 376.95, -20.63, 141.51, 2, 0)
	MovementLoopAddLocation(NPC, 380.82, -20.84, 135.48, 2, 0)
	MovementLoopAddLocation(NPC, 376.95, -20.63, 141.51, 2, 0)
	MovementLoopAddLocation(NPC, 371, -20.4, 150.07, 2, 0)
	MovementLoopAddLocation(NPC, 362.33, -20.07, 156.28, 2, 0)
	MovementLoopAddLocation(NPC, 353.19, -20.11, 161.76, 2, 0)
	MovementLoopAddLocation(NPC, 343.39, -19.81, 165.99, 2, 0)
	MovementLoopAddLocation(NPC, 335.41, -19.11, 168.24, 2, 0)
	MovementLoopAddLocation(NPC, 327.38, -18.49, 168.63, 2, 0)
	MovementLoopAddLocation(NPC, 321.17, -18.12, 167.53, 2, 0)
	MovementLoopAddLocation(NPC, 315.55, -17.98, 164.22, 2, 0)
	MovementLoopAddLocation(NPC, 311.09, -17.91, 158.73, 2, 0)
	MovementLoopAddLocation(NPC, 301.61, -15.94, 140.57, 2, 0)
	MovementLoopAddLocation(NPC, 291.57, -13.42, 109.62, 2, 0)
	MovementLoopAddLocation(NPC, 286.47, -12.82, 76.85, 2, 0)
	MovementLoopAddLocation(NPC, 254.82, -19.97, 35.53, 2, 0)
	MovementLoopAddLocation(NPC, 257.93, -21.1, -11.88, 2, 0)
	MovementLoopAddLocation(NPC, 279.54, -21.18, -32.57, 2, 0)
	MovementLoopAddLocation(NPC, 294.23, -21.05, -45.16, 2, 0)
	MovementLoopAddLocation(NPC, 306.92, -21.35, -54.89, 2, 0)
	MovementLoopAddLocation(NPC, 314.18, -22.67, -91.88, 2, 0)
	MovementLoopAddLocation(NPC, 319.08, -23.15, -103.21, 2, 0)
	MovementLoopAddLocation(NPC, 341.23, -23.91, -145.54, 2, 0)
	MovementLoopAddLocation(NPC, 359.28, -25.34, -174.69, 2, 0)
	MovementLoopAddLocation(NPC, 386.32, -24.34, -194.34, 2, 0)
	MovementLoopAddLocation(NPC, 405.93, -23, -217.04, 2, 0)
	MovementLoopAddLocation(NPC, 388.39, -18.86, -235.08, 2, 0)
	MovementLoopAddLocation(NPC, 405.9, -23.02, -216.31, 2, 0)
	MovementLoopAddLocation(NPC, 434.83, -21.31, -248.24, 2, 0)
	MovementLoopAddLocation(NPC, 437.55, -20.92, -254.01, 2, 0)
	MovementLoopAddLocation(NPC, 437.04, -20.75, -281.16, 2, 0)
	MovementLoopAddLocation(NPC, 449.84, -20.26, -304.03, 2, 0)
	MovementLoopAddLocation(NPC, 455.07, -20.2, -304.7, 2, 0)
	MovementLoopAddLocation(NPC, 461.14, -20.18, -307.03, 2, 0)
	MovementLoopAddLocation(NPC, 466.03, -20.23, -311.41, 2, 0)
	MovementLoopAddLocation(NPC, 467.77, -20.35, -315.62, 2, 0)
	MovementLoopAddLocation(NPC, 467.31, -20.42, -320.02, 2, 0)
	MovementLoopAddLocation(NPC, 464.6, -20.47, -323.73, 2, 0)
	MovementLoopAddLocation(NPC, 460.61, -20.5, -325.99, 2, 0)
	MovementLoopAddLocation(NPC, 455.34, -20.41, -326.81, 2, 0)
	MovementLoopAddLocation(NPC, 451.08, -20.35, -326.46, 2, 0)
	MovementLoopAddLocation(NPC, 447.68, -20.33, -324.06, 2, 0)
	MovementLoopAddLocation(NPC, 441.68, -20.33, -318.13, 2, 0)
end   
 ]]--   
    
    --[[ DevNoob's Creation. 
math.randomseed(os.clock()*100000000000)
for i=1,3 do
   math.random(10000, 65000)
end

r =   math.random(10, 30)
s =   math.random(5, 15)

	MovementLoopAddLocation(NPC, 441.68, -20.33, -318.13, 2, r)
	MovementLoopAddLocation(NPC, 447.68, -20.33, -324.06, 2, s)
	MovementLoopAddLocation(NPC, 451.08, -20.35, -326.46, 2, 0)
	MovementLoopAddLocation(NPC, 455.34, -20.41, -326.81, 2, 0)
	MovementLoopAddLocation(NPC, 460.61, -20.5, -325.99, 2, 0)
	MovementLoopAddLocation(NPC, 464.6, -20.47, -323.73, 2, 0)
	MovementLoopAddLocation(NPC, 467.31, -20.42, -320.02, 2, 0)
	MovementLoopAddLocation(NPC, 467.77, -20.35, -315.62, 2, 0)
	MovementLoopAddLocation(NPC, 466.03, -20.23, -311.41, 2, 0)
	MovementLoopAddLocation(NPC, 461.14, -20.18, -307.03, 2, 0)
	MovementLoopAddLocation(NPC, 455.07, -20.2, -304.7, 2, 0)
	MovementLoopAddLocation(NPC, 449.84, -20.26, -304.03, 2, 0)
	MovementLoopAddLocation(NPC, 437.04, -20.75, -281.16, 2, 0)
	MovementLoopAddLocation(NPC, 437.55, -20.92, -254.01, 2, 0)
	MovementLoopAddLocation(NPC, 434.83, -21.31, -248.24, 2, 0)
	MovementLoopAddLocation(NPC, 405.9, -23.02, -216.31, 2, 0)
	MovementLoopAddLocation(NPC, 388.39, -18.86, -235.08, 2, 0)
	MovementLoopAddLocation(NPC, 405.93, -23, -217.04, 2, 0)
	MovementLoopAddLocation(NPC, 386.32, -24.34, -194.34, 2, 0)
	MovementLoopAddLocation(NPC, 359.28, -25.34, -174.69, 2, 0)
	MovementLoopAddLocation(NPC, 341.23, -23.91, -145.54, 2, 0)
	MovementLoopAddLocation(NPC, 319.08, -23.15, -103.21, 2, 0)
	MovementLoopAddLocation(NPC, 314.18, -22.67, -91.88, 2, 0)
	MovementLoopAddLocation(NPC, 306.92, -21.35, -54.89, 2, 0)
	MovementLoopAddLocation(NPC, 294.23, -21.05, -45.16, 2, 0)
	MovementLoopAddLocation(NPC, 279.54, -21.18, -32.57, 2, 0)
	MovementLoopAddLocation(NPC, 257.93, -21.1, -11.88, 2, 0)
	MovementLoopAddLocation(NPC, 254.82, -19.97, 35.53, 2, 0)
	MovementLoopAddLocation(NPC, 286.47, -12.82, 76.85, 2, 0)
	MovementLoopAddLocation(NPC, 291.57, -13.42, 109.62, 2, 0)
	MovementLoopAddLocation(NPC, 301.61, -15.94, 140.57, 2, 0)
	MovementLoopAddLocation(NPC, 311.09, -17.91, 158.73, 2, 0)
	MovementLoopAddLocation(NPC, 315.55, -17.98, 164.22, 2, 0)
	MovementLoopAddLocation(NPC, 321.17, -18.12, 167.53, 2, 0)
	MovementLoopAddLocation(NPC, 327.38, -18.49, 168.63, 2, 0)
	MovementLoopAddLocation(NPC, 335.41, -19.11, 168.24, 2, 0)
	MovementLoopAddLocation(NPC, 343.39, -19.81, 165.99, 2, 0)
	MovementLoopAddLocation(NPC, 353.19, -20.11, 161.76, 2, 0)
	MovementLoopAddLocation(NPC, 362.33, -20.07, 156.28, 2, 0)
	MovementLoopAddLocation(NPC, 371, -20.4, 150.07, 2, 0)
	MovementLoopAddLocation(NPC, 376.95, -20.63, 141.51, 2, 0)
	MovementLoopAddLocation(NPC, 380.82, -20.84, 135.48, 2, 0)
	MovementLoopAddLocation(NPC, 376.95, -20.63, 141.51, 2, 0)
	MovementLoopAddLocation(NPC, 371, -20.4, 150.07, 2, 0)
	MovementLoopAddLocation(NPC, 362.33, -20.07, 156.28, 2, 0)
	MovementLoopAddLocation(NPC, 353.19, -20.11, 161.76, 2, 0)
	MovementLoopAddLocation(NPC, 343.39, -19.81, 165.99, 2, 0)
	MovementLoopAddLocation(NPC, 335.41, -19.11, 168.24, 2, 0)
	MovementLoopAddLocation(NPC, 327.38, -18.49, 168.63, 2, 0)
	MovementLoopAddLocation(NPC, 321.17, -18.12, 167.53, 2, 0)
	MovementLoopAddLocation(NPC, 315.55, -17.98, 164.22, 2, 0)
	MovementLoopAddLocation(NPC, 311.09, -17.91, 158.73, 2, 0)
	MovementLoopAddLocation(NPC, 301.61, -15.94, 140.57, 2, 0)
	MovementLoopAddLocation(NPC, 291.57, -13.42, 109.62, 2, 0)
	MovementLoopAddLocation(NPC, 286.47, -12.82, 76.85, 2, 0)
	MovementLoopAddLocation(NPC, 254.82, -19.97, 35.53, 2, 0)
	MovementLoopAddLocation(NPC, 257.93, -21.1, -11.88, 2, 0)
	MovementLoopAddLocation(NPC, 279.54, -21.18, -32.57, 2, 0)
	MovementLoopAddLocation(NPC, 294.23, -21.05, -45.16, 2, 0)
	MovementLoopAddLocation(NPC, 306.92, -21.35, -54.89, 2, 0)
	MovementLoopAddLocation(NPC, 314.18, -22.67, -91.88, 2, 0)
	MovementLoopAddLocation(NPC, 319.08, -23.15, -103.21, 2, 0)
	MovementLoopAddLocation(NPC, 341.23, -23.91, -145.54, 2, 0)
	MovementLoopAddLocation(NPC, 359.28, -25.34, -174.69, 2, 0)
	MovementLoopAddLocation(NPC, 386.32, -24.34, -194.34, 2, 0)
	MovementLoopAddLocation(NPC, 405.93, -23, -217.04, 2, 0)
	MovementLoopAddLocation(NPC, 388.39, -18.86, -235.08, 2, 0)
	MovementLoopAddLocation(NPC, 405.9, -23.02, -216.31, 2, 0)
	MovementLoopAddLocation(NPC, 434.83, -21.31, -248.24, 2, 0)
	MovementLoopAddLocation(NPC, 437.55, -20.92, -254.01, 2, 0)
	MovementLoopAddLocation(NPC, 437.04, -20.75, -281.16, 2, 0)
	MovementLoopAddLocation(NPC, 449.84, -20.26, -304.03, 2, 0)
	MovementLoopAddLocation(NPC, 455.07, -20.2, -304.7, 2, 0)
	MovementLoopAddLocation(NPC, 461.14, -20.18, -307.03, 2, 0)
	MovementLoopAddLocation(NPC, 466.03, -20.23, -311.41, 2, 0)
	MovementLoopAddLocation(NPC, 467.77, -20.35, -315.62, 2, 0)
	MovementLoopAddLocation(NPC, 467.31, -20.42, -320.02, 2, 0)
	MovementLoopAddLocation(NPC, 464.6, -20.47, -323.73, 2, 0)
	MovementLoopAddLocation(NPC, 460.61, -20.5, -325.99, 2, 0)
	MovementLoopAddLocation(NPC, 455.34, -20.41, -326.81, 2, 0)
	MovementLoopAddLocation(NPC, 451.08, -20.35, -326.46, 2, 0)
	MovementLoopAddLocation(NPC, 447.68, -20.33, -324.06, 2, 0)
	MovementLoopAddLocation(NPC, 441.68, -20.33, -318.13, 2, 0)
end]]--


