--[[
	Script Name		: SpawnScripts/BeggarsCourt/LiviaDrusilla.lua
	Script Purpose	: Livia Drusilla
	Script Author	: torsten
	Script Date		: 2022.07.18
	Script Notes	: Auto-Generated Conversation from PacketParser Data
--]]

dofile("SpawnScripts/Generic/GenericEcologyVoiceOvers.lua")

function spawn(NPC)
waypoints(NPC)
SetPlayerProximityFunction(NPC, 6, "InRange", "LeaveRange")		
end

function hailed(NPC, Spawn)
	FaceTarget(NPC, Spawn)
    GenericEcologyHail(NPC, Spawn, faction)
end

function InRange(NPC,Spawn)
    GenericEcologyCallout(NPC, Spawn, faction)
    end

function respawn(NPC)
	spawn(NPC)
end


function waypoints(NPC)
	MovementLoopAddLocation(NPC, 49.97, -5, 31.7, 2, 0)
	MovementLoopAddLocation(NPC, 53.41, -5, 35.77, 2, 0)
	MovementLoopAddLocation(NPC, 58.2, -5, 37.61, 2, 1)
	MovementLoopAddLocation(NPC, 58.2, -5, 37.61, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, 55.35, -5.25, 39.88, 2, 0)
	MovementLoopAddLocation(NPC, 51.29, -5.75, 45.01, 2, 0)
	MovementLoopAddLocation(NPC, 50.52, -6.15, 48.24, 2, 0)
	MovementLoopAddLocation(NPC, 48.3, -6.92, 51.49, 2, 0)
	MovementLoopAddLocation(NPC, 44.72, -7, 52.68, 2, 0)
	MovementLoopAddLocation(NPC, 35.14, -7, 55.1, 2, 0)
	MovementLoopAddLocation(NPC, 26.76, -7, 56.1, 2, 0)
	MovementLoopAddLocation(NPC, 16.05, -7, 54.99, 2, 0)
	MovementLoopAddLocation(NPC, -3.93, -7, 55.81, 2, 0)
	MovementLoopAddLocation(NPC, -22.67, -7, 58.57, 2, 1)
	MovementLoopAddLocation(NPC, -22.67, -7, 58.57, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, -22.67, -7, 58.57, 2, 0)
	MovementLoopAddLocation(NPC, -20.59, -7, 57, 2, 0)
	MovementLoopAddLocation(NPC, -15.82, -7, 54.67, 2, 0)
	MovementLoopAddLocation(NPC, -8.86, -7, 52.55, 2, 0)
	MovementLoopAddLocation(NPC, -7.87, -7, 48.21, 2, 0)
	MovementLoopAddLocation(NPC, -7.24, -7, 45.44, 2, 0)
	MovementLoopAddLocation(NPC, -12.15, -7, 39.27, 2, 0)
	MovementLoopAddLocation(NPC, -19.09, -7, 33.77, 2, 0)
	MovementLoopAddLocation(NPC, -13.92, -6, 25.93, 2, 0)
	MovementLoopAddLocation(NPC, -12.44, -5.5, 20.27, 2, 0)
	MovementLoopAddLocation(NPC, -12.62, -5.25, 16.52, 2, 0)
	MovementLoopAddLocation(NPC, -15.35, -5, 14.12, 2, 0)
	MovementLoopAddLocation(NPC, -18.34, -5.02, 10.48, 2, 0)
	MovementLoopAddLocation(NPC, -27.05, -0.75, 6.71, 2, 0)
	MovementLoopAddLocation(NPC, -27.89, -0.75, 5.47, 2, 0)
	MovementLoopAddLocation(NPC, -27.87, -0.75, 3.66, 2, 0)
	MovementLoopAddLocation(NPC, -26.74, -0.76, 1.88, 2, 0)
	MovementLoopAddLocation(NPC, -22.25, 1.14, 2.87, 2, 0)
	MovementLoopAddLocation(NPC, -20.22, 1.86, 3.52, 2, 0)
	MovementLoopAddLocation(NPC, -18.6, 2.07, 1.58, 2, 0)
	MovementLoopAddLocation(NPC, -17.77, 2, 0.15, 2, 0)
	MovementLoopAddLocation(NPC, -14.73, 2, -4.41, 2, 0)
	MovementLoopAddLocation(NPC, -18.08, 2.5, -11.76, 2, 0)
	MovementLoopAddLocation(NPC, -26.9, 2.5, -18.46, 2, 1)
	MovementLoopAddLocation(NPC, -26.9, 2.5, -18.46, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, -24.43, 2.5, -18.37, 2, 0)
	MovementLoopAddLocation(NPC, -17.3, 3, -18.7, 2, 0)
	MovementLoopAddLocation(NPC, -13.29, 3, -21.7, 2, 0)
	MovementLoopAddLocation(NPC, -4.47, 3.5, -20.59, 2, 0)
	MovementLoopAddLocation(NPC, 0.11, 3.5, -19.13, 2, 1)
	MovementLoopAddLocation(NPC, 0.11, 3.5, -19.13, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, 0.19, 3.5, -20.6, 2, 0)
	MovementLoopAddLocation(NPC, 2.62, 3.87, -21.13, 2, 0)
	MovementLoopAddLocation(NPC, 12.41, 4.75, -22.26, 2, 0)
	MovementLoopAddLocation(NPC, 18.6, 5, -23.15, 2, 0)
	MovementLoopAddLocation(NPC, 21, 5.25, -21.08, 2, 0)
	MovementLoopAddLocation(NPC, 23.9, 5.25, -13.95, 2, 0)
	MovementLoopAddLocation(NPC, 30.72, 5.25, -12.03, 2, 0)
	MovementLoopAddLocation(NPC, 38.52, 5.25, -15.59, 2, 0)
	MovementLoopAddLocation(NPC, 46.22, 5.25, -18.95, 2, 0)
	MovementLoopAddLocation(NPC, 47.34, 5.25, -22.59, 2, 0)
	MovementLoopAddLocation(NPC, 50.1, 5, -29.25, 2, 2,"Door1")
	MovementLoopAddLocation(NPC, 51.57, 5.01, -32.3, 2, 0,"Door1")
	MovementLoopAddLocation(NPC, 52.29, 5.01, -35.54, 2, 0)
	MovementLoopAddLocation(NPC, 54.11, 5.01, -37.73, 2, 0)
	MovementLoopAddLocation(NPC, 62.45, 5.01, -42.53, 2, 1)
	MovementLoopAddLocation(NPC, 62.45, 5.01, -42.53, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, 58.09, 5.04, -42.59, 2, 0)
	MovementLoopAddLocation(NPC, 53.13, 5.01, -40.84, 2, 1)
	MovementLoopAddLocation(NPC, 53.13, 5.01, -40.84, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, 54.61, 5.01, -40.69, 2, 0)
	MovementLoopAddLocation(NPC, 55.25, 5.01, -39.02, 2, 0)
	MovementLoopAddLocation(NPC, 51.83, 5.01, -32.73, 2, 2,"Door1")
	MovementLoopAddLocation(NPC, 49.42, 5, -28.74, 2, 0,"Door1")
	MovementLoopAddLocation(NPC, 51.08, 5, -24.52, 2, 0)
	MovementLoopAddLocation(NPC, 51.69, 5, -15.39, 2, 0)
	MovementLoopAddLocation(NPC, 51.65, 4.5, -9.56, 2, 0)
	MovementLoopAddLocation(NPC, 49.57, 3.75, -3.81, 2, 0)
	MovementLoopAddLocation(NPC, 47.58, 3.5, -1.12, 2, 0)
	MovementLoopAddLocation(NPC, 44.9, 2.78, 7.3, 2, 0)
	MovementLoopAddLocation(NPC, 44.72, 2.25, 12.98, 2, 0)
	MovementLoopAddLocation(NPC, 43.82, 2, 20.24, 2, 1)
	MovementLoopAddLocation(NPC, 43.82, 2, 20.24, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, 45.65, 2, 19.17, 2, 0)
	MovementLoopAddLocation(NPC, 49.24, 2, 19.64, 2, 0)
	MovementLoopAddLocation(NPC, 50.28, 2, 22.26, 2, 0)
	MovementLoopAddLocation(NPC, 50.29, 1.95, 24.96, 2, 0)
	MovementLoopAddLocation(NPC, 47, 1.39, 26.64, 2, 0)
	MovementLoopAddLocation(NPC, 42.61, -0.8, 25.86, 2, 0)
	MovementLoopAddLocation(NPC, 33.77, -5.01, 24.89, 2, 0)
	MovementLoopAddLocation(NPC, 33.19, -5, 27.23, 2, 0)
	MovementLoopAddLocation(NPC, 40.34, -5, 28.49, 2, 1)
	MovementLoopAddLocation(NPC, 40.34, -5, 28.49, 2, MakeRandomInt(15,25),"EcologyEmotes")
	MovementLoopAddLocation(NPC, 41.7, -5, 29.76, 2, 0)
	MovementLoopAddLocation(NPC, 44.54, -5, 29.97, 2, 0)
end


function Door1(NPC,Spawn)
    local door = GetSpawn(NPC, 1370078)
    UseWidget(door)
end