--[[
    Script Name    : SpawnScripts/QeynosHarbor/LindyDawn.lua
    Script Author  : Dorbin
    Script Date    : 2022.06.11 10:06:40
    Script Purpose : 
                   : 
--]]

dofile("SpawnScripts/Generic/GenericEcologyVoiceOvers.lua")

function spawn(NPC)
	waypoints(NPC)
    SetPlayerProximityFunction(NPC, 6, "InRange", "LeaveRange")		
end

function hailed(NPC, Spawn)
	FaceTarget(NPC, Spawn)
    GenericEcologyHail(NPC, Spawn, faction)
end

function InRange(NPC,Spawn)
    GenericEcologyCallout(NPC, Spawn, faction)
    end
    
 function Drink(NPC)
        PlayFlavor(NPC,"","","drinking_idle",0,0)
    AddTimer(NPC,8000, "Drink2")
end

function Drink2(NPC)
  choice = math.random(1,3)   
        if choice == 1 then    
        PlayFlavor(NPC,"","","yawn",0,0)
        elseif choice == 2 then    
        PlayFlavor(NPC,"","","drinking_idle",0,0)
        else
        PlayFlavor(NPC,"","","happy",0,0)
        end            
    AddTimer(NPC,6000, "Drink3")
end

function Drink3(NPC)
        PlayFlavor(NPC,"","","drinking_idle",0,0)
end

function Door1(NPC,Spawn)
    local door = GetSpawn(NPC, 2210350)
    UseWidget(door)
end

function waypoints(NPC)
	MovementLoopAddLocation(NPC, 899.41, -25.32, 84.68, 2, 0)
	MovementLoopAddLocation(NPC, 917.59, -25.49, 66.37, 2, 1)
	MovementLoopAddLocation(NPC, 917.59, -25.49, 66.37, 2, 12,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 917.59, -25.49, 66.37, 2, 12,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 924.19, -25.49, 51.11, 2, 0)
	MovementLoopAddLocation(NPC, 923.68, -25.49, 46.84, 2, 0)
	MovementLoopAddLocation(NPC, 929.93, -25.58, 31.28, 2, 0)
	MovementLoopAddLocation(NPC, 920.41, -25.5, 24.15, 2, 0)
	MovementLoopAddLocation(NPC, 915.97, -25.52, 24.37, 2, 0)
	MovementLoopAddLocation(NPC, 904.62, -25.46, 24.36, 2, 0)
	MovementLoopAddLocation(NPC, 900.6, -25.43, 33.86, 2, 0)
	MovementLoopAddLocation(NPC, 891.3, -25.37, 44.94, 2, 0)
	MovementLoopAddLocation(NPC, 879.47, -25.37, 45.44, 2, 0)
	MovementLoopAddLocation(NPC, 859.71, -25.37, 41.86, 2, 0)
	MovementLoopAddLocation(NPC, 836.72, -23.28, 44.49, 2, 0)
	MovementLoopAddLocation(NPC, 820.85, -23.31, 42.71, 2, 0)
	MovementLoopAddLocation(NPC, 815.47, -23.24, 41.07, 2, 2,"Door1")
	MovementLoopAddLocation(NPC, 812.97, -23.27, 45.49, 2, 0)
	MovementLoopAddLocation(NPC, 812.97, -23.27, 45.49, 2, 0)
	MovementLoopAddLocation(NPC, 814.7, -23.27, 49.8, 2, 2)
	MovementLoopAddLocation(NPC, 814.85, -23.27, 53.93, 2, 0)
	MovementLoopAddLocation(NPC, 810.07, -23.77, 57.17, 2, 0)
	MovementLoopAddLocation(NPC, 807.11, -23.77, 56.19, 2, 1)
	MovementLoopAddLocation(NPC, 807.11, -23.77, 56.19, 2, 30,"Drink")
	MovementLoopAddLocation(NPC, 807.11, -23.77, 56.19, 2, 0)
	MovementLoopAddLocation(NPC, 808.36, -23.77, 56.7, 2, 0)
	MovementLoopAddLocation(NPC, 808.36, -23.77, 56.7, 2, 0)
	MovementLoopAddLocation(NPC, 813.86, -23.27, 57, 2, 0)
	MovementLoopAddLocation(NPC, 813.71, -23.27, 48.17, 2, 0)
	MovementLoopAddLocation(NPC, 811.43, -23.27, 44.5, 2, 2,"Door1")
	MovementLoopAddLocation(NPC, 814.26, -23.23, 39.78, 2, 0)
	MovementLoopAddLocation(NPC, 811.05, -23.35, 24.46, 2, 2)
	MovementLoopAddLocation(NPC, 819, -23.35, 18.24, 2, 0)
	MovementLoopAddLocation(NPC, 825.19, -23.37, 17.11, 2, 0)
	MovementLoopAddLocation(NPC, 832.61, -23.37, 21.34, 2, 0)
	MovementLoopAddLocation(NPC, 839.03, -23.36, 28.37, 2, 0)
	MovementLoopAddLocation(NPC, 839.03, -23.36, 28.37, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 839.03, -23.36, 28.37, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 839.03, -23.36, 28.37, 2, 1)
	MovementLoopAddLocation(NPC, 832.95, -23.36, 35.7, 2, 0)
	MovementLoopAddLocation(NPC, 830.5, -23.39, 38.74, 2, 0)
	MovementLoopAddLocation(NPC, 832.67, -23.35, 41.32, 2, 0)
	MovementLoopAddLocation(NPC, 855.55, -25.04, 39.17, 2, 0)
	MovementLoopAddLocation(NPC, 884.74, -25.38, 42.31, 2, 0)
    MovementLoopAddLocation(NPC, 891.00, -25.42, 37.34, 2, 0)
    MovementLoopAddLocation(NPC, 900.87, -25.43, 5.13, 2, 0)
	MovementLoopAddLocation(NPC, 897.63, -24.65, -28.64, 2, 0)
	MovementLoopAddLocation(NPC, 890.31, -25.36, -52.19, 2, 0)
	MovementLoopAddLocation(NPC, 882.75, -25.37, -58.42, 2, 0)
	MovementLoopAddLocation(NPC, 846.15, -25.4, -60.08, 2, 0)
	MovementLoopAddLocation(NPC, 813.93, -20.89, -60.47, 2, 0)
	MovementLoopAddLocation(NPC, 791.81, -21.08, -59.27, 2, 0)
	MovementLoopAddLocation(NPC, 740.66, -21.39, -46.77, 2, 0)
	MovementLoopAddLocation(NPC, 740.66, -21.39, -46.77, 2, 1)
	MovementLoopAddLocation(NPC, 740.66, -21.39, -46.77, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 740.66, -21.39, -46.77, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 740.7, -20.87, -67.58, 2, 0)
	MovementLoopAddLocation(NPC, 740.94, -20.91, -66.89, 2, 1)
	MovementLoopAddLocation(NPC, 740.94, -20.91, -66.89, 2, 10,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 762.82, -20.69, -29.41, 2, 0)
	MovementLoopAddLocation(NPC, 758.59, -20.64, 11.96, 2, 0)
	MovementLoopAddLocation(NPC, 767, -20.64, 25.65, 2, 0)
	MovementLoopAddLocation(NPC, 767.41, -20.64, 35.72, 2, 0)
	MovementLoopAddLocation(NPC, 767, -20.64, 25.65, 2, 10)
	MovementLoopAddLocation(NPC, 758.59, -20.64, 11.96, 2, 0)
	MovementLoopAddLocation(NPC, 762.82, -20.69, -29.41, 2, 0)
	MovementLoopAddLocation(NPC, 740.94, -20.91, -66.89, 2, 1)
	MovementLoopAddLocation(NPC, 740.94, -20.91, -66.89, 2, 10,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 740.7, -20.87, -67.58, 2, 0)
	MovementLoopAddLocation(NPC, 740.66, -21.39, -46.77, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 740.66, -21.39, -46.77, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 740.66, -21.39, -46.77, 2, 0)
	MovementLoopAddLocation(NPC, 791.81, -21.08, -59.27, 2, 0)
	MovementLoopAddLocation(NPC, 813.93, -20.89, -60.47, 2, 0)
	MovementLoopAddLocation(NPC, 846.15, -25.4, -60.08, 2, 0)
	MovementLoopAddLocation(NPC, 882.75, -25.37, -58.42, 2, 0)
	MovementLoopAddLocation(NPC, 890.31, -25.36, -52.19, 2, 0)
	MovementLoopAddLocation(NPC, 897.63, -24.65, -28.64, 2, 0)
	MovementLoopAddLocation(NPC, 900.87, -25.43, 5.13, 2, 0)
    MovementLoopAddLocation(NPC, 891.00, -25.42, 37.34, 2, 0)
	MovementLoopAddLocation(NPC, 884.74, -25.38, 42.31, 2, 0)
	MovementLoopAddLocation(NPC, 855.55, -25.04, 39.17, 2, 0)
	MovementLoopAddLocation(NPC, 832.67, -23.35, 41.32, 2, 0)
	MovementLoopAddLocation(NPC, 830.5, -23.39, 38.74, 2, 0)
	MovementLoopAddLocation(NPC, 832.95, -23.36, 35.7, 2, 0)
	MovementLoopAddLocation(NPC, 839.03, -23.36, 28.37, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 839.03, -23.36, 28.37, 2, 15,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 839.03, -23.36, 28.37, 2, 0)
	MovementLoopAddLocation(NPC, 832.61, -23.37, 21.34, 2, 0)
	MovementLoopAddLocation(NPC, 825.19, -23.37, 17.11, 2, 0)
	MovementLoopAddLocation(NPC, 819, -23.35, 18.24, 2, 0)
	MovementLoopAddLocation(NPC, 811.05, -23.35, 24.46, 2, 2,"Door1")
	MovementLoopAddLocation(NPC, 814.26, -23.23, 39.78, 2, 2)
	MovementLoopAddLocation(NPC, 811.43, -23.27, 44.5, 2, 0)
	MovementLoopAddLocation(NPC, 813.71, -23.27, 48.17, 2, 0)
	MovementLoopAddLocation(NPC, 813.86, -23.27, 57, 2, 0)
	MovementLoopAddLocation(NPC, 808.36, -23.77, 56.7, 2, 1)
	MovementLoopAddLocation(NPC, 808.36, -23.77, 56.7, 2, 30,"Drink")
	MovementLoopAddLocation(NPC, 808.36, -23.77, 56.7, 2, 0)
	MovementLoopAddLocation(NPC, 807.11, -23.77, 56.19, 2, 0)
	MovementLoopAddLocation(NPC, 810.07, -23.77, 57.17, 2, 0)
	MovementLoopAddLocation(NPC, 814.85, -23.27, 53.93, 2, 0)
	MovementLoopAddLocation(NPC, 814.7, -23.27, 49.8, 2, 0)
	MovementLoopAddLocation(NPC, 812.97, -23.27, 45.49, 2, 2,"Door1")
	MovementLoopAddLocation(NPC, 812.97, -23.27, 45.49, 2, 2)
	MovementLoopAddLocation(NPC, 815.47, -23.24, 41.07, 2, 0)
	MovementLoopAddLocation(NPC, 820.85, -23.31, 42.71, 2, 0)
	MovementLoopAddLocation(NPC, 836.72, -23.28, 44.49, 2, 0)
	MovementLoopAddLocation(NPC, 859.71, -25.37, 41.86, 2, 0)
	MovementLoopAddLocation(NPC, 879.47, -25.37, 45.44, 2, 0)
	MovementLoopAddLocation(NPC, 891.3, -25.37, 44.94, 2, 0)
	MovementLoopAddLocation(NPC, 900.6, -25.43, 33.86, 2, 0)
	MovementLoopAddLocation(NPC, 904.62, -25.46, 24.36, 2, 0)
	MovementLoopAddLocation(NPC, 915.97, -25.52, 24.37, 2, 0)
	MovementLoopAddLocation(NPC, 920.41, -25.5, 24.15, 2, 0)
	MovementLoopAddLocation(NPC, 929.93, -25.58, 31.28, 2, 0)
	MovementLoopAddLocation(NPC, 923.68, -25.49, 46.84, 2, 0)
	MovementLoopAddLocation(NPC, 924.19, -25.49, 51.11, 2, 0)
	MovementLoopAddLocation(NPC, 917.59, -25.49, 66.37, 2, 12,"EcologyEmotes")
	MovementLoopAddLocation(NPC, 917.59, -25.49, 66.37, 2, 12,"EcologyEmotes")

end


   
    